<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Project2 | 逝川の小屋</title><meta name="author" content="逝川"><meta name="copyright" content="逝川"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Hard Autograd for Algebraic Expressionsauthor:王子轩Date: 2024-4-6  Chapter 1: IntroductionBackgroundThe application of automatic differentiation technology in frameworks such as torch and tensorflow has">
<meta property="og:type" content="article">
<meta property="og:title" content="Project2">
<meta property="og:url" content="http://example.com/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Report2/index.html">
<meta property="og:site_name" content="逝川の小屋">
<meta property="og:description" content="Hard Autograd for Algebraic Expressionsauthor:王子轩Date: 2024-4-6  Chapter 1: IntroductionBackgroundThe application of automatic differentiation technology in frameworks such as torch and tensorflow has">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/image/head.jpeg">
<meta property="article:published_time" content="2024-12-09T14:45:39.890Z">
<meta property="article:modified_time" content="2024-12-09T14:48:22.447Z">
<meta property="article:author" content="逝川">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/image/head.jpeg"><link rel="shortcut icon" href="/image/head.jpeg"><link rel="canonical" href="http://example.com/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Report2/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'null',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Project2',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  isShuoshuo: false
}</script><meta name="generator" content="Hexo 7.2.0"></head><body><script>window.paceOptions = {
  restartOnPushState: false
}

btf.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')

</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pace-js/themes/blue/pace-theme-minimal.min.css"/><script src="https://cdn.jsdelivr.net/npm/pace-js/pace.min.js"></script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="/image/head.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(/image/jixian.jpg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="/image/head.jpeg" alt="Logo"><span class="site-name">逝川の小屋</span></a><a class="nav-page-title" href="/"><span class="site-name">Project2</span></a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">Project2</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-12-09T14:45:39.890Z" title="发表于 2024-12-09 22:45:39">2024-12-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-12-09T14:48:22.447Z" title="更新于 2024-12-09 22:48:22">2024-12-09</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><h1 id="Hard-Autograd-for-Algebraic-Expressions"><a href="#Hard-Autograd-for-Algebraic-Expressions" class="headerlink" title="Hard Autograd for Algebraic Expressions"></a>Hard Autograd for Algebraic Expressions</h1><h1 id="author-王子轩"><a href="#author-王子轩" class="headerlink" title="author:王子轩"></a>author:王子轩</h1><h1 id="Date-2024-4-6"><a href="#Date-2024-4-6" class="headerlink" title="Date: 2024-4-6"></a><strong>Date: 2024-4-6</strong></h1><div style="page-break-after: always;"></div>

<h2 id="Chapter-1-Introduction"><a href="#Chapter-1-Introduction" class="headerlink" title="Chapter 1: Introduction"></a>Chapter 1: Introduction</h2><h3 id="Background"><a href="#Background" class="headerlink" title="Background"></a>Background</h3><p>The application of automatic differentiation technology in frameworks such as torch and tensorflow has greatly facilitated people’s implementation and training of deep learning algorithms based on backpropagation. </p>
<h3 id="Aim"><a href="#Aim" class="headerlink" title="Aim"></a>Aim</h3><p>Now, we hope to implement an automatic differentiation program for algebraic expressions.</p>
<h3 id="What-we-need-to-do"><a href="#What-we-need-to-do" class="headerlink" title="What we need to do"></a>What we need to do</h3><p>first build a binary tree according to the given expression, then differentiate it with a recursive algorithm, then use a simplifying function to process the differentiated tree, and finally output the result of the derivation with a middle-order traversal.</p>
<h3 id="Why-do-this"><a href="#Why-do-this" class="headerlink" title="Why do this"></a>Why do this</h3><p>binary tree data structure can effectively organize the relationship between the numbers and letters, using its non-linear properties can effectively represent the priority between different operators, and then recursive algorithms can effectively clear the head and ideas, and finally also through the middle order of the tree traversal for output.</p>
<h2 id="Chapter-2-Algorithm-Specification"><a href="#Chapter-2-Algorithm-Specification" class="headerlink" title="Chapter 2: Algorithm Specification"></a>Chapter 2: Algorithm Specification</h2><h3 id="Main-Function"><a href="#Main-Function" class="headerlink" title="Main Function"></a>Main Function</h3><h4 id="sketch"><a href="#sketch" class="headerlink" title="sketch"></a><strong>sketch</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">graph TD;</span><br><span class="line">F(binary tree construction)</span><br><span class="line">F--&gt;l</span><br><span class="line">l(lexicographical order  by bubble sorting)</span><br><span class="line">l --&gt; G(Derivation of a binary tree)</span><br><span class="line">G --&gt; H(simplified expression)</span><br><span class="line">H --&gt; I(Middle order traversal output)</span><br></pre></td></tr></table></figure>

<h4 id="Pseudocode"><a href="#Pseudocode" class="headerlink" title="Pseudocode"></a>Pseudocode</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">node root_node = build(); // binary tree construction</span><br><span class="line">    let var[] in the lexicographical order; // bubble sorting</span><br><span class="line">    for each variable in var &#123;</span><br><span class="line">        if variable has not appeared before &#123;</span><br><span class="line">            node newroot = diff(root_node, variable); // Derivation on variables</span><br><span class="line">            print &quot;Expressions before simplification&quot; + variable + &quot;:&quot;;</span><br><span class="line">            printInfix(newroot); // Output the result before simplification</span><br><span class="line">            simplify(newroot); // streamlining</span><br><span class="line">            print &quot;Simplified expressions.&quot; + variable + &quot;:&quot;;</span><br><span class="line">            printInfix(newroot); // Output the simplified result</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<h3 id="Build-：Used-to-build-expression-trees"><a href="#Build-：Used-to-build-expression-trees" class="headerlink" title="Build ：Used to build expression trees"></a>Build ：Used to build expression trees</h3><h4 id="sketch-1"><a href="#sketch-1" class="headerlink" title="sketch"></a><strong>sketch</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    Start --&gt; Initialize</span><br><span class="line">    Initialize --&gt; ReadCharacters</span><br><span class="line">    ReadCharacters --&gt; |Number| UpdateNumber</span><br><span class="line">    ReadCharacters --&gt; |Operator| ProcessOperator</span><br><span class="line">    ReadCharacters --&gt; |Special Character| HandleSpecialCases</span><br><span class="line">    UpdateNumber --&gt; |Previous number| UpdateNumber</span><br><span class="line">    UpdateNumber --&gt; |New number| CreateNode</span><br><span class="line">    CreateNode --&gt; StoreNumber</span><br><span class="line">    ProcessOperator --&gt; ProcessPriority</span><br><span class="line">    HandleSpecialCases --&gt; |Mathematical function| PushOperator</span><br><span class="line">    HandleSpecialCases --&gt; HandleCases</span><br><span class="line">    ProcessPriority --&gt; |Higher priority| PushStack</span><br><span class="line">    ProcessPriority --&gt; |Lower priority| PopBuildNodes</span><br><span class="line">    PopBuildNodes --&gt; CheckPriority</span><br><span class="line">    CheckPriority --&gt; |Satisfied| End</span><br><span class="line">    CheckPriority --&gt; |Not satisfied| PopBuildNodes</span><br><span class="line">    End --&gt; Stop</span><br></pre></td></tr></table></figure>

<h4 id="Pseudocode-1"><a href="#Pseudocode-1" class="headerlink" title="Pseudocode"></a>Pseudocode</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">build():</span><br><span class="line">    Initialize variables and arrays</span><br><span class="line">    Loop to read characters</span><br><span class="line">        If it is a number:</span><br><span class="line">            If the previous one is a number:</span><br><span class="line">                Update the number</span><br><span class="line">            Else:</span><br><span class="line">                Create a new node and store the number</span><br><span class="line">        If it is an operator:</span><br><span class="line">            Process nodes and operators based on priority</span><br><span class="line">        If it is a special character (e.g., parentheses):</span><br><span class="line">            Handle special cases</span><br><span class="line">    Return the constructed binary tree</span><br><span class="line"></span><br><span class="line">process operator priority():</span><br><span class="line">    If the current operator has higher priority than the top of the stack:</span><br><span class="line">        Push onto the stack</span><br><span class="line">    Else:</span><br><span class="line">        Pop and build nodes until the priority is satisfied</span><br><span class="line"></span><br><span class="line">handle special cases():</span><br><span class="line">    If it is a mathematical function:</span><br><span class="line">        Push it as an operator onto the stack</span><br><span class="line">    Else:</span><br><span class="line">        Handle special cases like parentheses</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Diff-Used-to-differentiate-functions"><a href="#Diff-Used-to-differentiate-functions" class="headerlink" title="Diff :Used to differentiate functions"></a>Diff :Used to differentiate functions</h3><h4 id="sketch-2"><a href="#sketch-2" class="headerlink" title="sketch"></a><strong>sketch</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[Start] --&gt; B&#123;Root is NULL?&#125;</span><br><span class="line">    B -- No --&gt; C&#123;Check root data&#125;</span><br><span class="line">    C -- &#x27;+&#x27; or &#x27;-&#x27; --&gt; D&#123;Create new node for derivative&#125;</span><br><span class="line">    D --&gt; E[Recursively differentiate left subtree]</span><br><span class="line">    E --&gt; F[Recursively differentiate right subtree]</span><br><span class="line">    F --&gt; G[Attach derivatives to new node]</span><br><span class="line">    C -- &#x27;*&#x27; --&gt; H&#123;Create new node for derivative&#125;</span><br><span class="line">    H --&gt; I[Recursively differentiate left subtree]</span><br><span class="line">    I --&gt; J[Recursively differentiate right subtree]</span><br><span class="line">    J --&gt; K[Attach derivatives to new node]</span><br><span class="line">    C -- &#x27;/&#x27; --&gt; L&#123;Create new node for derivative&#125;</span><br><span class="line">    L --&gt; M[Recursively differentiate left subtree]</span><br><span class="line">    M --&gt; N[Recursively differentiate right subtree]</span><br><span class="line">    N --&gt; O[Attach derivatives to new node]</span><br><span class="line">    C -- &#x27;^&#x27; --&gt; P&#123;Create new node for derivative&#125;</span><br><span class="line">    P --&gt; Q[Calculate derivative using power rule]</span><br><span class="line">    Q --&gt; R[Attach derivatives to new node]</span><br><span class="line">    C -- Default --&gt; S&#123;Check if constant or variable&#125;</span><br><span class="line">    S -- Constant --&gt; T[Create node with derivative 0]</span><br><span class="line">    S -- Variable --&gt; U&#123;Check if variable matches&#125;</span><br><span class="line">    U -- Yes --&gt; V[Create node with derivative 1]</span><br><span class="line">    U -- No --&gt; W[Create node with derivative 0]</span><br><span class="line">    A --&gt; B</span><br></pre></td></tr></table></figure>

<h4 id="Pseudocode-2"><a href="#Pseudocode-2" class="headerlink" title="Pseudocode"></a>Pseudocode</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">function diff(root, variable)</span><br><span class="line">    if root is NULL</span><br><span class="line">        return NULL</span><br><span class="line">    newRoot = NULL</span><br><span class="line">    switch (root.data)</span><br><span class="line">        case &#x27;+&#x27;:</span><br><span class="line">        case &#x27;-&#x27;: </span><br><span class="line">        	 Handle case &#x27;+&#x27; and &#x27;-&#x27;</span><br><span class="line">        case &#x27;*&#x27;:</span><br><span class="line">             Handle case &#x27;*&#x27;</span><br><span class="line">        case &#x27;/&#x27;:</span><br><span class="line">             Handle case &#x27;/&#x27;</span><br><span class="line">        case &#x27;^&#x27;:</span><br><span class="line">             Handle case &#x27;^&#x27;</span><br><span class="line">        case -10:</span><br><span class="line">             Handle case &quot;ln&quot;</span><br><span class="line">        case -9:</span><br><span class="line">             Handle case &quot;log&quot;</span><br><span class="line">        case -8:</span><br><span class="line">             Handle case &quot;cos&quot;</span><br><span class="line">        case -7:</span><br><span class="line">             Handle case &quot;sin&quot;</span><br><span class="line">        case -6:</span><br><span class="line">             Handle case &quot;tan&quot;</span><br><span class="line">        case -5:</span><br><span class="line">             Handle case &quot;pow&quot;</span><br><span class="line">        case -4:</span><br><span class="line">             Handle case &quot;exp&quot;</span><br><span class="line">        default:</span><br><span class="line">            if root.data != 0</span><br><span class="line">                newRoot = createNode(0)</span><br><span class="line">            else</span><br><span class="line">                if root.Var == variable</span><br><span class="line">                    newRoot = createNode(1)</span><br><span class="line">                else</span><br><span class="line">                    newRoot = createNode(0)</span><br><span class="line">    return newRoot</span><br></pre></td></tr></table></figure>

<h3 id="Simplify：Used-to-simplify-expressions"><a href="#Simplify：Used-to-simplify-expressions" class="headerlink" title="Simplify：Used to simplify expressions"></a>Simplify：Used to simplify expressions</h3><h4 id="sketch-3"><a href="#sketch-3" class="headerlink" title="sketch"></a><strong>sketch</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">     B&#123;Is the root node empty?&#125;</span><br><span class="line">    B -- yes --&gt; C[return]</span><br><span class="line">    B -- no --&gt; D[Simplified left subtree]</span><br><span class="line">    D --&gt; E[Simplified right subtree]</span><br><span class="line">    E --&gt; F&#123;Operator Type&#125;</span><br><span class="line">    F -- addition operator --&gt; G[Perform additive simplification]</span><br><span class="line">    F -- subtraction operator--&gt; H[Implementation of subtractive simplification]</span><br><span class="line">    F -- multiplication operator --&gt; I[Perform multiplicative simplification]</span><br><span class="line">    F -- division operator --&gt; J[Perform division simplification]</span><br><span class="line">    F -- else --&gt; K[Implementation of other simplifications]</span><br><span class="line">    G --&gt; L[return]</span><br><span class="line">    H --&gt; L</span><br><span class="line">    I --&gt; L</span><br><span class="line">    J --&gt; L</span><br><span class="line">    K --&gt; L</span><br></pre></td></tr></table></figure>

<h4 id="Pseudocode-3"><a href="#Pseudocode-3" class="headerlink" title="Pseudocode"></a>Pseudocode</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">function simplify(root)</span><br><span class="line">    if root is NULL</span><br><span class="line">        return</span><br><span class="line">    simplify(root.left)</span><br><span class="line">    simplify(root.right)</span><br><span class="line">    </span><br><span class="line">    switch (root.data)</span><br><span class="line">        case &#x27;+&#x27;:</span><br><span class="line">            Handle case &#x27;+&#x27;</span><br><span class="line">        case &#x27;-&#x27;:</span><br><span class="line">            Handle case &#x27;-&#x27;</span><br><span class="line">        case &#x27;*&#x27;:</span><br><span class="line">            Handle case &#x27;*&#x27;</span><br><span class="line">        case &#x27;/&#x27;:</span><br><span class="line">            Handle case &#x27;/&#x27;</span><br><span class="line">        case &#x27;^&#x27;:</span><br><span class="line">            Handle case &#x27;^&#x27;</span><br><span class="line">    return</span><br></pre></td></tr></table></figure>

<h3 id="PrintInfix-Used-to-output-mid-range-expressions"><a href="#PrintInfix-Used-to-output-mid-range-expressions" class="headerlink" title="PrintInfix:Used to output mid-range expressions"></a>PrintInfix:Used to output mid-range expressions</h3><h4 id="sketch-4"><a href="#sketch-4" class="headerlink" title="sketch"></a><strong>sketch</strong></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">graph TD</span><br><span class="line">    A[Start] --&gt; B&#123;root == NULL?&#125;</span><br><span class="line">    B -- No --&gt; C&#123;first?&#125;</span><br><span class="line">    C -- Yes --&gt; D&#123;qu = 1&#125;</span><br><span class="line">    D --&gt; E&#123;qu?&#125;</span><br><span class="line">    E -- Yes --&gt; F(No output of brackets)</span><br><span class="line">    E -- No --&gt; G&#123;root-&gt;left != NULL or root-&gt;right != NULL?&#125;</span><br><span class="line">    G -- Yes --&gt; H&#123;Print left bracket&#125;</span><br><span class="line">    H --&gt; I&#123;Call printInfix root-&gt;left&#125;</span><br><span class="line">    I --&gt; J&#123;Print root-&gt;Var or root-&gt;data&#125;</span><br><span class="line">    J --&gt; K&#123;Call printInfix root-&gt;right&#125;</span><br><span class="line">    K --&gt; L&#123;Print right bracket&#125;</span><br><span class="line">    L --&gt; M</span><br><span class="line">    G -- No --&gt; M</span><br><span class="line">    C -- No --&gt; M</span><br><span class="line">    B -- Yes --&gt; M</span><br><span class="line">    M[return]</span><br></pre></td></tr></table></figure>

<h4 id="Pseudocode-4"><a href="#Pseudocode-4" class="headerlink" title="Pseudocode"></a>Pseudocode</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">if root is NULL</span><br><span class="line">    return</span><br><span class="line">if first</span><br><span class="line">    qu = 1</span><br><span class="line">    first = 0</span><br><span class="line">if qu</span><br><span class="line">    do nothing</span><br><span class="line">else if root&#x27;s left child is not NULL or right child is not NULL</span><br><span class="line">    print &quot;(&quot;</span><br><span class="line">Call printInfix with root&#x27;s left child</span><br><span class="line">if root&#x27;s Var is not empty</span><br><span class="line">    print root&#x27;s Var</span><br><span class="line">else if root&#x27;s data is an operator</span><br><span class="line">    print root&#x27;s data</span><br><span class="line">else if root&#x27;s data is &#x27;L&#x27;</span><br><span class="line">    print &quot;ln&quot;</span><br><span class="line">else if root&#x27;s data is less than 0</span><br><span class="line">    print dic_math[root&#x27;s data + 10]</span><br><span class="line">else</span><br><span class="line">    print root&#x27;s data</span><br><span class="line">Call printInfix with root&#x27;s right child</span><br><span class="line">if qu</span><br><span class="line">    do nothing</span><br><span class="line">else if root&#x27;s left child is not NULL or right child is not NULL</span><br><span class="line">    print &quot;)&quot;</span><br></pre></td></tr></table></figure>



<h3 id="Bonus"><a href="#Bonus" class="headerlink" title="Bonus"></a><strong>Bonus</strong></h3><h4 id="Not-using-complex-containers-provided-in-STL"><a href="#Not-using-complex-containers-provided-in-STL" class="headerlink" title="Not using complex containers provided in STL"></a>Not using complex containers provided in STL</h4><p><strong>done</strong></p>
<h4 id="Support-for-expressions-containing-mathematical-functions"><a href="#Support-for-expressions-containing-mathematical-functions" class="headerlink" title="Support for expressions containing mathematical functions"></a>Support for expressions containing mathematical functions</h4><p><strong>done</strong></p>
<h4 id="Simplify-an-algebraic-expression-to-reduce-the-length-of-the-result-by-applying-at-least-two-rules"><a href="#Simplify-an-algebraic-expression-to-reduce-the-length-of-the-result-by-applying-at-least-two-rules" class="headerlink" title="Simplify an algebraic expression to reduce the length of the result by applying at least two rules."></a>Simplify an algebraic expression to reduce the length of the result by applying at least two rules.</h4><p><strong>done</strong></p>
<h5 id="Rules-used-in-simplification"><a href="#Rules-used-in-simplification" class="headerlink" title="Rules used in simplification:"></a>Rules used in simplification:</h5><ol>
<li>addition：<ol>
<li>If an item is 0, delete it.</li>
</ol>
</li>
<li>subtractive：<ol>
<li>Delete the previous item if it is zero.</li>
<li>Delete the minus sign and the last item if the last item is zero.</li>
</ol>
</li>
<li>subtraction：<ol>
<li>Returns 0 if one of the items is 0.</li>
<li>If one item is 1, return the other.</li>
</ol>
</li>
<li>division ：<ol>
<li>If the numerator is 0, return 0.</li>
<li>Return the numerator if the denominator is 1</li>
</ol>
</li>
<li>calculate the square：<ol>
<li>If the index is 0, return 1</li>
</ol>
</li>
</ol>
<h2 id="Chapter-3-Testing-Results"><a href="#Chapter-3-Testing-Results" class="headerlink" title="Chapter 3: Testing Results"></a>Chapter 3: Testing Results</h2><table>
<thead>
<tr>
<th align="left">test case</th>
<th>aim</th>
<th>Expected results</th>
<th>Actual results</th>
</tr>
</thead>
<tbody><tr>
<td align="left">a+b^c*d</td>
<td>Test addition multiplication multiplication compound operations</td>
<td>a: 1     <br />b: c*b^(c-1)*d     <br />c: ln(b)*b^c*d     <br />d: b^c</td>
<td>a:1<br/>b:(((b^c)*(c&#x2F;b))*d)<br/>c:(((b^c)*(lnb))*d)<br/>d:(b^c)</td>
</tr>
<tr>
<td align="left">a*10*b+2^a&#x2F;a</td>
<td>Test addition multiplication multiplication division compound operations</td>
<td>a:  10*b-2^a&#x2F;a^2+2^a*ln(2)&#x2F;a     <br />b: a*10</td>
<td>a:(10*b)+(((((2^a)*(ln2))*a)-(2^a))&#x2F;(a^2))<br/>b:(a*10)</td>
</tr>
<tr>
<td align="left">xx^2&#x2F;xy*xy+a^a</td>
<td>Testing arithmetic on multi-character variables</td>
<td>a: a^a*(1+ln(a))     <br />xx: 2*xx <br />   xy: 0</td>
<td>a:(a^a)*((lna)+(a&#x2F;a))<br/>xx:(((((xx^2)*(2&#x2F;xx))*xy)&#x2F;(xy^2))*xy)<br/>xy:((((-(xx^2))&#x2F;(xy^2))*xy)+((xx^2)&#x2F;xy))</td>
</tr>
<tr>
<td align="left">x*ln(y)</td>
<td>Testing the performance of the lnx function</td>
<td>x:lny     <br />y:x*(1&#x2F;y)</td>
<td>x:lny<br/>y:(x*(1&#x2F;y))</td>
</tr>
<tr>
<td align="left">x*ln(x*y)+y*cos(x)+y*sin(2*x)</td>
<td>Testing the performance of lnx, trigonometric functions</td>
<td>x:(ln(x*y)+(x*(y&#x2F;(x*y))))+y*(1&#x2F;(cosx)^2+y*2&#x2F;(cos(2*x)^2))     y:x*x&#x2F;(x*y)+cosx+y*sin(2*x)+y*sin(2*x)</td>
<td>x:(ln(x*y)+(x*(y&#x2F;(x*y))))+y*(1&#x2F;(cosx)^2+y*2&#x2F;(cos(2*x)^2))     y:x*x&#x2F;(x*y)+cosx+y*sin(2*x)+y*sin(2*x)</td>
</tr>
<tr>
<td align="left">log(a,b)&#x2F;log(c,a)</td>
<td>Testing the performance of the log function</td>
<td>a:(-((log(a,b))*((((1&#x2F;a)*(lnc))-((1&#x2F;a)*(lna)))&#x2F;((lnc)^2))))&#x2F;((log(c,a))^2) <br />    b:((((((1&#x2F;b)*(lna))-((1&#x2F;b)*(lnb)))&#x2F;((lna)^2))*(log(c,a)))&#x2F;((log(c,a))^2))  <br />   c:0</td>
<td>a:(-((log(a,b))*((((1&#x2F;a)*(lnc))-((1&#x2F;a)*(lna)))&#x2F;((lnc)^2))))&#x2F;((log(c,a))^2) <br />    b:((((((1&#x2F;b)*(lna))-((1&#x2F;b)*(lnb)))&#x2F;((lna)^2))*(log(c,a)))&#x2F;((log(c,a))^2))  <br />   c:0</td>
</tr>
<tr>
<td align="left">a^x^a^x^a</td>
<td>Testing Multiplier Composite Extreme Sample Performance</td>
<td>a:(a^(x^(a^(x^a))))*((((x^(a^(x^a)))*(((a^(x^a))*((((x^a)*(lnx))*(lna))+((x^a)&#x2F;a)))*(lnx)))*(lna))+((x^(a^(x^a)))&#x2F;a))    <br /><br />  x:((a^(x^(a^(x^a))))*(((x^(a^(x^a)))*((((a^(x^a))*(((x^a)*(a&#x2F;x))*(lna)))*(lnx))+((a^(x^a))&#x2F;x)))*(lna)))</td>
<td>a:(a^(x^(a^(x^a))))*((((x^(a^(x^a)))*(((a^(x^a))*((((x^a)*(lnx))*(lna))+((x^a)&#x2F;a)))*(lnx)))*(lna))+((x^(a^(x^a)))&#x2F;a))    <br /><br />  x:((a^(x^(a^(x^a))))*(((x^(a^(x^a)))*((((a^(x^a))*(((x^a)*(a&#x2F;x))*(lna)))*(lnx))+((a^(x^a))&#x2F;x)))*(lna)))</td>
</tr>
<tr>
<td align="left">log(log(a,b),log(c,a))</td>
<td>Testing extreme sample performance of logarithmic functions</td>
<td>a:(((((((1&#x2F;a)*(lnc))-((1&#x2F;a)*(lna)))&#x2F;((lnc)^2))&#x2F;(log(c,a)))*(ln(log(a,b))))-((((((1&#x2F;a)*(lnc))-((1&#x2F;a)*(lna)))&#x2F;((lnc)^2))&#x2F;(log(c,a)))*(ln(log(c,a)))))&#x2F;((ln(log(a,b)))^2) <br />    b:0    <br /> c:0</td>
<td>a:(((((((1&#x2F;a)*(lnc))-((1&#x2F;a)*(lna)))&#x2F;((lnc)^2))&#x2F;(log(c,a)))*(ln(log(a,b))))-((((((1&#x2F;a)*(lnc))-((1&#x2F;a)*(lna)))&#x2F;((lnc)^2))&#x2F;(log(c,a)))*(ln(log(c,a)))))&#x2F;((ln(log(a,b)))^2) <br />    b:0    <br /> c:0</td>
</tr>
</tbody></table>
<h2 id="Chapter-4-Analysis-and-Comments"><a href="#Chapter-4-Analysis-and-Comments" class="headerlink" title="Chapter 4: Analysis and Comments"></a>Chapter 4: Analysis and Comments</h2><h3 id="Time-Complexity-Analysis"><a href="#Time-Complexity-Analysis" class="headerlink" title="Time Complexity Analysis:"></a>Time Complexity Analysis:</h3><ul>
<li><p>The process of constructing a binary tree involves traversing the medial expression with a time complexity of O(n), where n is the length of the medial expression.</p>
</li>
<li><p>The process of derivation and simplification of different variables involves traversing the binary tree nodes with a time complexity of O(n), where n is the number of binary tree nodes.</p>
</li>
<li><p>There is no significant loop nesting in the algorithm and the overall time complexity is O(n).</p>
</li>
</ul>
<h3 id="Space-complexity-analysis"><a href="#Space-complexity-analysis" class="headerlink" title="Space complexity analysis:"></a>Space complexity analysis:</h3><ul>
<li><p>The algorithm uses arrays and structures to store data structures such as midfix expressions, variables, operator stacks, node stacks, etc. The space complexity depends on the size of these data structures and is O(n).</p>
</li>
<li><p>Recursive calls to the derivation function may take up additional stack space, but since the recursion depth will not be large, the space complexity is negligible.</p>
</li>
</ul>
<h3 id="Possible-further-improvements"><a href="#Possible-further-improvements" class="headerlink" title="Possible further improvements:"></a>Possible further improvements:</h3><ol>
<li>Consider optimizing the algorithm, e.g., using more efficient data structures to store the medial expression to reduce unnecessary memory usage.</li>
<li>For complex mathematical functions, the processing logic can be further optimized to improve the efficiency of the algorithm.</li>
<li>Consider introducing an error handling mechanism to increase the validation of input expressions to prevent the program from crashing or outputting incorrect results.</li>
<li>More mathematical function support can be added to make the program more general.</li>
<li>For the case of large-scale input, parallelization of processing can be considered to improve the running efficiency of the program.</li>
</ol>
<h3 id="Appendix-Source-Code-in-C"><a href="#Appendix-Source-Code-in-C" class="headerlink" title="Appendix: Source Code (in C)"></a>Appendix: Source Code (in C)</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span>                                                       <span class="comment">//Import related libraries</span></span></span><br><span class="line"><span class="type">char</span> var[<span class="number">100</span>][<span class="number">100</span>] = &#123;<span class="string">&#x27;\0&#x27;</span>&#125;;                                              <span class="comment">// Used to record variables</span></span><br><span class="line"><span class="type">char</span> dic_math[<span class="number">10</span>][<span class="number">10</span>] = &#123;<span class="string">&quot;ln&quot;</span>, <span class="string">&quot;log&quot;</span>, <span class="string">&quot;cos&quot;</span>, <span class="string">&quot;sin&quot;</span>, <span class="string">&quot;tan&quot;</span>, <span class="string">&quot;pow&quot;</span>, <span class="string">&quot;exp&quot;</span>&#125;; <span class="comment">// Dictionary of math functions</span></span><br><span class="line"><span class="type">int</span> var_cnt = <span class="number">0</span>, var_len = <span class="number">0</span>;                                             <span class="comment">// Define variable counters and variable lengths</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> <span class="title">node</span>                                                       // <span class="title">Define</span> <span class="title">the</span> <span class="title">binary</span> <span class="title">tree</span> <span class="title">node</span> <span class="title">structure</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="type">int</span> data;           <span class="comment">// Store symbols and numbers</span></span><br><span class="line">    <span class="type">char</span> Var[<span class="number">10</span>];       <span class="comment">// Store variables</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">left</span>;</span>  <span class="comment">// Pointer to the left node</span></span><br><span class="line">    <span class="class"><span class="keyword">struct</span> <span class="title">node</span> *<span class="title">right</span>;</span> <span class="comment">// pointer to the right node</span></span><br><span class="line">&#125; BTnode;               <span class="comment">// Rename the type names of binary tree nodes for ease of writing</span></span><br><span class="line"><span class="type">int</span> first = <span class="number">1</span>;</span><br><span class="line"><span class="comment">// Related Functions</span></span><br><span class="line">BTnode *<span class="title function_">createNode</span><span class="params">(<span class="type">int</span> data)</span>;               <span class="comment">// Functions for new nodes</span></span><br><span class="line">BTnode *<span class="title function_">build</span><span class="params">()</span>;                            <span class="comment">// Build the binary tree of the original medial expression.</span></span><br><span class="line">BTnode *<span class="title function_">diff</span><span class="params">(BTnode *root, <span class="type">char</span> *variable)</span>; <span class="comment">// Functions used to differentiate binary trees</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">printInfix</span><span class="params">(BTnode *root)</span>;              <span class="comment">// Functions used for middle-order traversal</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">simplify</span><span class="params">(BTnode *root)</span>;                <span class="comment">// Functions used to simplify derivative expressions</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span>                                  <span class="comment">// Main function</span></span><br><span class="line">&#123;</span><br><span class="line">    BTnode *root_node = build();      <span class="comment">// Build the binary tree such that its middle-order traversal results in the given medial expression</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; var_cnt;i++)&#123;<span class="comment">//lexicographical order  by bubble sorting</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> j = <span class="number">0</span>; j &lt; var_cnt - i; j++)&#123;</span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">strcmp</span>(var[j],var[j+<span class="number">1</span>])&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                <span class="type">char</span> tmp[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;</span><br><span class="line">                <span class="built_in">strcpy</span>(tmp,var[j+<span class="number">1</span>]);</span><br><span class="line">                <span class="built_in">strcpy</span>(var[j+<span class="number">1</span>],var[j]);</span><br><span class="line">                <span class="built_in">strcpy</span>(var[j],tmp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; var_cnt; i++) <span class="comment">// Perform a traversal with separate derivatives for different variables</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> flg = <span class="number">1</span>; <span class="comment">// Use flg to note if the variable has appeared before</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(var[j], var[i]))</span><br><span class="line">                flg = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flg)</span><br><span class="line">        &#123;</span><br><span class="line">            BTnode *newroot = diff(root_node, var[i]); <span class="comment">// Derivation</span></span><br><span class="line">            simplify(newroot); <span class="comment">// Simplify</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;(simplified)%s:&quot;</span>, var[i]);</span><br><span class="line">            printInfix(newroot); <span class="comment">// Output the simplified result</span></span><br><span class="line">            <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BTnode *<span class="title function_">createNode</span><span class="params">(<span class="type">int</span> data)</span></span><br><span class="line">&#123; <span class="comment">// Used to create a new node for later calls and to prevent duplicate writing.</span></span><br><span class="line">    BTnode *newNode = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode));</span><br><span class="line">    newNode-&gt;data = data;</span><br><span class="line">    (newNode-&gt;Var)[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>; <span class="comment">// Initialize to empty string</span></span><br><span class="line">    newNode-&gt;left = <span class="literal">NULL</span>;     <span class="comment">// Initialize to null pointer</span></span><br><span class="line">    newNode-&gt;right = <span class="literal">NULL</span>;    <span class="comment">// Initialize to null pointer</span></span><br><span class="line">    <span class="keyword">return</span> newNode;           <span class="comment">// Return the new pointer</span></span><br><span class="line">&#125;</span><br><span class="line">BTnode *<span class="title function_">build</span><span class="params">()</span> <span class="comment">// Build the binary tree such that its middle-order traversal results in the given medial expression</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">char</span> ope[<span class="number">100</span>] = &#123;<span class="string">&#x27;\0&#x27;</span>&#125;;                                      <span class="comment">// Use arrays to simulate a stack for storing operators.</span></span><br><span class="line">    <span class="type">char</span> dic_ope[<span class="number">10</span>] = &#123;<span class="string">&#x27;^&#x27;</span>, <span class="string">&#x27;/&#x27;</span>, <span class="string">&#x27;*&#x27;</span>, <span class="string">&#x27;-&#x27;</span>, <span class="string">&#x27;+&#x27;</span>, <span class="string">&#x27;,&#x27;</span>, <span class="string">&#x27;(&#x27;</span>&#125;;      <span class="comment">// Operator dictionary to define priorities</span></span><br><span class="line">    <span class="type">int</span> num[<span class="number">100</span>] = &#123;<span class="number">0</span>&#125;;                                          <span class="comment">// Use arrays to simulate a stack for storing operators.</span></span><br><span class="line">    BTnode *node_stack = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode) * <span class="number">500</span>); <span class="comment">// Open up a space for a stack that holds nodes</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">500</span>; i++)                                <span class="comment">// Initialize the node stack to empty</span></span><br><span class="line">    &#123;</span><br><span class="line">        (node_stack + i)-&gt;Var[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> ope_len = <span class="number">0</span>, num_len = <span class="number">0</span>, node_len = <span class="number">0</span>; <span class="comment">// Defines the length of the respective stacks, corresponding to the index that is the last bit of the top element.</span></span><br><span class="line">    <span class="type">char</span> tmp;                                   <span class="comment">// Define a temporary variable to store the characters for each read</span></span><br><span class="line">    <span class="type">int</span> pre_pos = <span class="number">7</span>;                            <span class="comment">// Initialize a pre-position to store the position of the previous operator for comparing priorities</span></span><br><span class="line">    <span class="type">int</span> pre_isnum = <span class="number">0</span>, pre_isvar = <span class="number">0</span>;           <span class="comment">// The type used to mark the previous one</span></span><br><span class="line">    <span class="type">int</span> math = <span class="number">0</span>;                               <span class="comment">// Used to mark where in the dictionary the identified math function is located</span></span><br><span class="line">    tmp = getchar();                            <span class="comment">// Take one out first, determine if it&#x27;s a negative sign, and handle it separately</span></span><br><span class="line">    <span class="keyword">if</span> (tmp == <span class="string">&#x27;-&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        tmp = <span class="string">&#x27;0&#x27;</span>;                             <span class="comment">// If it is a negative sign, add a 0 before it to normalize it.</span></span><br><span class="line">        node_stack[node_len].data = tmp - <span class="string">&#x27;0&#x27;</span>; <span class="comment">// Store numbers</span></span><br><span class="line">        node_stack[node_len].Var[<span class="number">0</span>] = <span class="number">0</span>;       <span class="comment">// Variable set to empty string</span></span><br><span class="line">        node_stack[node_len].left = <span class="literal">NULL</span>;      <span class="comment">// Left node pointer initialized to null pointer</span></span><br><span class="line">        node_stack[node_len].right = <span class="literal">NULL</span>;     <span class="comment">// Right node pointer initialized to null pointer</span></span><br><span class="line">        node_len++;                            <span class="comment">// Length setback</span></span><br><span class="line">        pre_isnum = <span class="number">1</span>;                         <span class="comment">// Mark the previous one as a number</span></span><br><span class="line">        pre_isvar = <span class="number">0</span>;                         <span class="comment">// Mark the previous one as not a variable</span></span><br><span class="line">        var_len = <span class="number">0</span>;                           <span class="comment">// Initialize variable length to 0</span></span><br><span class="line">        tmp = <span class="string">&#x27;-&#x27;</span>;                             <span class="comment">// Turn the variable back into a negative sign</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">do</span> <span class="comment">// Begin cycle of reading in characters</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&#x27;0&#x27;</span> &lt;= tmp &amp;&amp; tmp &lt;= <span class="string">&#x27;9&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (pre_isnum) <span class="comment">// Determine if the previous one is a number</span></span><br><span class="line">            &#123;</span><br><span class="line">                node_stack[node_len - <span class="number">1</span>].data = node_stack[node_len - <span class="number">1</span>].data * <span class="number">10</span> + tmp - <span class="string">&#x27;0&#x27;</span>; <span class="comment">// Update the number if the previous one was a number</span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                node_stack[node_len].data = tmp - <span class="string">&#x27;0&#x27;</span>; <span class="comment">// Store numbers</span></span><br><span class="line">                node_stack[node_len].Var[<span class="number">0</span>] = <span class="number">0</span>;       <span class="comment">// Variable set to empty string</span></span><br><span class="line">                node_stack[node_len].left = <span class="literal">NULL</span>;      <span class="comment">// Left node pointer initialized to null pointer</span></span><br><span class="line">                node_stack[node_len].right = <span class="literal">NULL</span>;     <span class="comment">// Right node pointer initialized to null pointer</span></span><br><span class="line">                node_len++;                            <span class="comment">// Length setback</span></span><br><span class="line">                pre_isnum = <span class="number">1</span>;                         <span class="comment">// Mark the previous one as a number</span></span><br><span class="line">                pre_isvar = <span class="number">0</span>;                         <span class="comment">// Mark the previous one as not a variable</span></span><br><span class="line">                var_len = <span class="number">0</span>;                           <span class="comment">// Initialize variable length to 0</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (tmp == <span class="string">&#x27;(&#x27;</span> || tmp == <span class="string">&#x27;)&#x27;</span> || tmp == <span class="string">&#x27;+&#x27;</span> || tmp == <span class="string">&#x27;-&#x27;</span> || tmp == <span class="string">&#x27;*&#x27;</span> || tmp == <span class="string">&#x27;/&#x27;</span> || tmp == <span class="string">&#x27;^&#x27;</span> || tmp == <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (tmp == <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">if</span> (math) <span class="comment">// Separate handling of mathematical formulas</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">while</span> (ope[ope_len - <span class="number">1</span>] != <span class="string">&#x27;(&#x27;</span>) <span class="comment">// Start by working inside the parentheses of the math equation.</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        node_stack[node_len].data = ope[ope_len - <span class="number">1</span>];</span><br><span class="line">                        node_stack[node_len].Var[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">                        node_stack[node_len].left = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode)); <span class="comment">// Allocate new memory space to the left and right child nodes</span></span><br><span class="line">                        node_stack[node_len].left-&gt;Var[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;                     <span class="comment">// Initialize the left node variable to the empty string</span></span><br><span class="line">                        *node_stack[node_len].left = node_stack[node_len - <span class="number">2</span>];        <span class="comment">// out of the stack as a left node</span></span><br><span class="line">                        node_stack[node_len].right = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode));</span><br><span class="line">                        node_stack[node_len].right-&gt;Var[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;              <span class="comment">// Initialize the right node&#x27;s variable to the empty string</span></span><br><span class="line">                        *node_stack[node_len].right = node_stack[node_len - <span class="number">1</span>]; <span class="comment">// Out of the stack as a right node</span></span><br><span class="line">                        node_stack[node_len - <span class="number">2</span>] = node_stack[node_len];        <span class="comment">// Putting the combined new node back</span></span><br><span class="line">                        node_len--;                                             <span class="comment">// Node stack length reduction</span></span><br><span class="line">                        ope_len--;                                              <span class="comment">// Symbol stack length reduction</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    node_stack[node_len].data = ope[ope_len - <span class="number">2</span>]; <span class="comment">// Substitute the math equation</span></span><br><span class="line">                    node_stack[node_len].Var[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">                    node_stack[node_len].left = <span class="literal">NULL</span>;</span><br><span class="line">                    node_stack[node_len].right = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode));</span><br><span class="line">                    *node_stack[node_len].right = node_stack[node_len - <span class="number">1</span>]; <span class="comment">// Store the internals of the formula in the right node of the operator.</span></span><br><span class="line">                    node_stack[node_len - <span class="number">1</span>] = node_stack[node_len];</span><br><span class="line">                    ope_len -= <span class="number">2</span>;  <span class="comment">// Symbol stack out of two</span></span><br><span class="line">                    pre_isnum = <span class="number">0</span>; <span class="comment">// Record that the previous one was not a number</span></span><br><span class="line">                    pre_isvar = <span class="number">0</span>; <span class="comment">// Record that the previous one was not a variable</span></span><br><span class="line">                    var_len = <span class="number">0</span>;   <span class="comment">// Variable length reset</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="comment">// Not a mathematical formula</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">while</span> (ope[ope_len - <span class="number">1</span>] != <span class="string">&#x27;(&#x27;</span>) <span class="comment">// The special judgment is not a left bracket</span></span><br><span class="line">                    &#123;</span><br><span class="line">                        node_stack[node_len].data = ope[ope_len - <span class="number">1</span>];</span><br><span class="line">                        node_stack[node_len].Var[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">                        node_stack[node_len].left = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode)); <span class="comment">// Allocate new memory space to the left and right child nodes</span></span><br><span class="line">                        node_stack[node_len].left-&gt;Var[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;                     <span class="comment">// Initialize the left node variable to the empty string</span></span><br><span class="line">                        *node_stack[node_len].left = node_stack[node_len - <span class="number">2</span>];        <span class="comment">// out of the stack as a left node</span></span><br><span class="line">                        node_stack[node_len].right = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode));</span><br><span class="line">                        node_stack[node_len].right-&gt;Var[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;              <span class="comment">// Initialize the right node&#x27;s variable to the empty string</span></span><br><span class="line">                        *node_stack[node_len].right = node_stack[node_len - <span class="number">1</span>]; <span class="comment">// out of the stack as a right node</span></span><br><span class="line">                        node_stack[node_len - <span class="number">2</span>] = node_stack[node_len];        <span class="comment">// Put the combined new node back</span></span><br><span class="line">                        node_len--;                                             <span class="comment">// node stack length reduction</span></span><br><span class="line">                        ope_len--;                                              <span class="comment">// Symbol stack length reduction</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    ope_len--;</span><br><span class="line">                    pre_isnum = <span class="number">0</span>; <span class="comment">// Record that the previous one was not a number</span></span><br><span class="line">                    pre_isvar = <span class="number">0</span>; <span class="comment">// Record that the previous one was not a variable</span></span><br><span class="line">                    var_len = <span class="number">0</span>;   <span class="comment">// Variable length reset</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="type">int</span> i = <span class="number">0</span>; <span class="comment">// Loop through the dictionary to find the position of the operator.</span></span><br><span class="line">                <span class="keyword">for</span> (; i &lt; <span class="number">7</span>; i++)</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (dic_ope[i] == tmp)</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (pre_pos &gt;= i || tmp == <span class="string">&#x27;(&#x27;</span>) <span class="comment">// Ensure that priorities on the stack are ascending from bottom to top</span></span><br><span class="line">                &#123;</span><br><span class="line">                    ope[ope_len] = tmp; <span class="comment">// Into the stack</span></span><br><span class="line">                    ope_len++;          <span class="comment">// More stack length</span></span><br><span class="line">                    pre_isnum = <span class="number">0</span>;</span><br><span class="line">                    pre_isvar = <span class="number">0</span>;</span><br><span class="line">                    var_len = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> <span class="comment">// If the priority has been descended</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">while</span> (pre_pos &lt;= i)</span><br><span class="line">                    &#123;</span><br><span class="line">                        node_stack[node_len].data = ope[ope_len - <span class="number">1</span>];                  <span class="comment">// Out of the stack</span></span><br><span class="line">                        node_stack[node_len].Var[<span class="number">0</span>] = <span class="number">0</span>;                               <span class="comment">// Initialized to 0</span></span><br><span class="line">                        node_stack[node_len].left = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode));  <span class="comment">// Allocation of space</span></span><br><span class="line">                        node_stack[node_len].left-&gt;Var[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;                      <span class="comment">// Initialized to 0</span></span><br><span class="line">                        *node_stack[node_len].left = node_stack[node_len - <span class="number">2</span>];         <span class="comment">// out of the stack to the left node</span></span><br><span class="line">                        node_stack[node_len].right = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode)); <span class="comment">// Allocation of space</span></span><br><span class="line">                        node_stack[node_len].right-&gt;Var[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;                     <span class="comment">// Initialized to 0</span></span><br><span class="line">                        *node_stack[node_len].right = node_stack[node_len - <span class="number">1</span>];        <span class="comment">// out of the stack to the right node</span></span><br><span class="line">                        node_stack[node_len - <span class="number">2</span>] = node_stack[node_len];               <span class="comment">// Put the new node on the stack</span></span><br><span class="line">                        node_len--;</span><br><span class="line">                        ope_len--;</span><br><span class="line">                        <span class="keyword">for</span> (pre_pos = <span class="number">0</span>; pre_pos &lt; <span class="number">7</span>; pre_pos++) <span class="comment">// Find the operator&#x27;s position in the dictionary again.</span></span><br><span class="line">                        &#123;</span><br><span class="line">                            <span class="keyword">if</span> (dic_ope[pre_pos] == ope[ope_len - <span class="number">1</span>])</span><br><span class="line">                                <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    ope[ope_len] = tmp; <span class="comment">// Into the stack</span></span><br><span class="line">                    ope_len++;          <span class="comment">// More stack length</span></span><br><span class="line">                    pre_isnum = <span class="number">0</span>;</span><br><span class="line">                    pre_isvar = <span class="number">0</span>;</span><br><span class="line">                    var_len = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                pre_pos = i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (pre_isvar) <span class="comment">// The previous one was a variable</span></span><br><span class="line">            &#123;</span><br><span class="line">                node_stack[node_len - <span class="number">1</span>].Var[var_len] = tmp; <span class="comment">// Consecutive to the previous character</span></span><br><span class="line">                var[var_cnt - <span class="number">1</span>][var_len] = tmp;             <span class="comment">// Record variables</span></span><br><span class="line">                var_len++;</span><br><span class="line">                node_stack[node_len - <span class="number">1</span>].Var[var_len] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">                <span class="comment">// &#123;&quot;ln&quot;, &quot;log&quot;, &quot;cos&quot;, &quot;sin&quot;, &quot;tan&quot;, &quot;pow&quot;, &quot;exp&quot;&#125;</span></span><br><span class="line">                <span class="type">int</span> math_pos = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span> (math_pos = <span class="number">0</span>; math_pos &lt; <span class="number">7</span>; math_pos++) <span class="comment">// Compare in a dictionary of math formulas</span></span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(dic_math[math_pos], node_stack[node_len - <span class="number">1</span>].Var))</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">break</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (math_pos != <span class="number">7</span>) <span class="comment">// If it&#x27;s a math equation, put it on the symbol stack as a symbol.</span></span><br><span class="line">                &#123;</span><br><span class="line">                    ope[ope_len] = math_pos - <span class="number">10</span>;        <span class="comment">// Marked with the corresponding index minus 10 to prevent confusion with numbers</span></span><br><span class="line">                    ope_len++;                           <span class="comment">// Stack length becomes more</span></span><br><span class="line">                    node_stack[node_len - <span class="number">1</span>].Var[<span class="number">0</span>] = <span class="number">0</span>; <span class="comment">// Clear the variables</span></span><br><span class="line">                    node_stack[node_len - <span class="number">1</span>].Var[<span class="number">1</span>] = <span class="number">0</span>; <span class="comment">// Clear the variables</span></span><br><span class="line">                    node_stack[node_len - <span class="number">1</span>].Var[<span class="number">2</span>] = <span class="number">0</span>; <span class="comment">// Clear the variables</span></span><br><span class="line">                    node_stack[node_len - <span class="number">1</span>].Var[<span class="number">3</span>] = <span class="number">0</span>; <span class="comment">// Clear the variables</span></span><br><span class="line">                    node_stack[node_len - <span class="number">1</span>].Var[<span class="number">4</span>] = <span class="number">0</span>; <span class="comment">// Clear the variables</span></span><br><span class="line">                    var[var_cnt - <span class="number">1</span>][<span class="number">0</span>] = <span class="number">0</span>;             <span class="comment">// Clear the variables</span></span><br><span class="line">                    var[var_cnt - <span class="number">1</span>][<span class="number">1</span>] = <span class="number">0</span>;             <span class="comment">// Clear the variables</span></span><br><span class="line">                    var[var_cnt - <span class="number">1</span>][<span class="number">2</span>] = <span class="number">0</span>;             <span class="comment">// Clear the variables</span></span><br><span class="line">                    var[var_cnt - <span class="number">1</span>][<span class="number">3</span>] = <span class="number">0</span>;             <span class="comment">// Clear the variables</span></span><br><span class="line">                    var[var_cnt - <span class="number">1</span>][<span class="number">4</span>] = <span class="number">0</span>;             <span class="comment">// Clear the variables</span></span><br><span class="line">                    node_len--;</span><br><span class="line">                    pre_isnum = <span class="number">0</span>;</span><br><span class="line">                    pre_isvar = <span class="number">0</span>;</span><br><span class="line">                    var_len = <span class="number">0</span>;</span><br><span class="line">                    var_cnt--;</span><br><span class="line">                    math = <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                node_stack[node_len].Var[var_len] = tmp; <span class="comment">// Stored on the node stack</span></span><br><span class="line">                node_stack[node_len].left = <span class="literal">NULL</span>;        <span class="comment">// Initialize nodes</span></span><br><span class="line">                node_stack[node_len].right = <span class="literal">NULL</span>;       <span class="comment">// Initialize nodes</span></span><br><span class="line">                node_stack[node_len].data = <span class="number">0</span>;           <span class="comment">// Initialize nodes</span></span><br><span class="line">                node_len++;</span><br><span class="line">                var[var_cnt][var_len] = tmp; <span class="comment">// Stored on the variable stack</span></span><br><span class="line">                var_cnt++;</span><br><span class="line">                var_len = <span class="number">1</span>;</span><br><span class="line">                pre_isvar = <span class="number">1</span>;</span><br><span class="line">                node_stack[node_len - <span class="number">1</span>].Var[var_len] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">                pre_isnum = <span class="number">0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">while</span> ((tmp = getchar()) != <span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">    <span class="keyword">while</span> (node_len != <span class="number">1</span>) <span class="comment">// take any elements that have not yet been combined off the stack</span></span><br><span class="line">    &#123;</span><br><span class="line">        node_stack[node_len].data = ope[ope_len - <span class="number">1</span>]; <span class="comment">// Out of the symbol stack</span></span><br><span class="line">        node_stack[node_len].Var[<span class="number">0</span>] = <span class="number">0</span>;</span><br><span class="line">        node_stack[node_len].left = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode));</span><br><span class="line">        *node_stack[node_len].left = node_stack[node_len - <span class="number">2</span>]; <span class="comment">// Out of the left node</span></span><br><span class="line">        node_stack[node_len].right = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode));</span><br><span class="line">        *node_stack[node_len].right = node_stack[node_len - <span class="number">1</span>]; <span class="comment">// Out right node</span></span><br><span class="line">        node_stack[node_len - <span class="number">2</span>] = node_stack[node_len];        <span class="comment">// Put the new node on the stack</span></span><br><span class="line">        node_len--;</span><br><span class="line">        ope_len--;</span><br><span class="line">    &#125;</span><br><span class="line">    BTnode *root = (BTnode *)<span class="built_in">malloc</span>(<span class="keyword">sizeof</span>(BTnode));</span><br><span class="line">    root-&gt;Var[<span class="number">0</span>] = <span class="string">&#x27;\0&#x27;</span>;</span><br><span class="line">    *root = node_stack[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">printInfix</span><span class="params">(BTnode *root)</span> <span class="comment">// Middle-order traversal output</span></span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> qu = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (first) <span class="comment">// Outer brackets are not output</span></span><br><span class="line">    &#123;</span><br><span class="line">        qu = <span class="number">1</span>;</span><br><span class="line">        first = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (qu)</span><br><span class="line">        ;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;left != <span class="literal">NULL</span> || root-&gt;right != <span class="literal">NULL</span>) <span class="comment">// Wrap in parentheses as long as it&#x27;s not a leaf node</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;(&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    printInfix(root-&gt;left); <span class="comment">// Recursively output the left node</span></span><br><span class="line">    <span class="keyword">if</span> (root-&gt;Var[<span class="number">0</span>] != <span class="number">0</span>)  <span class="comment">// Output variables</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, root-&gt;Var);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;data == <span class="string">&#x27;^&#x27;</span> || root-&gt;data == <span class="string">&#x27;+&#x27;</span> || root-&gt;data == <span class="string">&#x27;-&#x27;</span> || root-&gt;data == <span class="string">&#x27;/&#x27;</span> || root-&gt;data == <span class="string">&#x27;*&#x27;</span> || root-&gt;data == <span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%c&quot;</span>, root-&gt;data); <span class="comment">// Output symbols</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;data == <span class="string">&#x27;L&#x27;</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;ln&quot;</span>); <span class="comment">// Output ln</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;data &lt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%s&quot;</span>, dic_math[root-&gt;data + <span class="number">10</span>]); <span class="comment">// Output math functions</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, root-&gt;data); <span class="comment">// Output digital</span></span><br><span class="line">    &#125;</span><br><span class="line">    printInfix(root-&gt;right); <span class="comment">// Recursively output the right node</span></span><br><span class="line">    <span class="keyword">if</span> (qu)                  <span class="comment">// Outer brackets are not output</span></span><br><span class="line">        ;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;left != <span class="literal">NULL</span> || root-&gt;right != <span class="literal">NULL</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;)&quot;</span>); <span class="comment">// Wrap in parentheses as long as it&#x27;s not a leaf node</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">BTnode *<span class="title function_">diff</span><span class="params">(BTnode *root, <span class="type">char</span> *variable)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="comment">// Recursion boundaries</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    BTnode *newRoot = <span class="literal">NULL</span>; <span class="comment">// Define a new node pointer for return</span></span><br><span class="line">    <span class="keyword">switch</span> (root-&gt;data)</span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>: <span class="comment">// Recursive tree building using derivation formulas for addition and subtraction</span></span><br><span class="line">        newRoot = createNode(root-&gt;data);</span><br><span class="line">        newRoot-&gt;left = diff(root-&gt;left, variable);</span><br><span class="line">        newRoot-&gt;right = diff(root-&gt;right, variable);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>: <span class="comment">// Recursive tree building using the derivation formula for multiplication</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left = diff(root-&gt;left, variable);</span><br><span class="line">        newRoot-&gt;left-&gt;right = root-&gt;right;</span><br><span class="line">        newRoot-&gt;right = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left = root-&gt;left;</span><br><span class="line">        newRoot-&gt;right-&gt;right = diff(root-&gt;right, variable);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>: <span class="comment">// Recursive tree building using the derivation formula for division</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left = createNode(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left-&gt;left = diff(root-&gt;left, variable);</span><br><span class="line">        newRoot-&gt;left-&gt;left-&gt;right = root-&gt;right;</span><br><span class="line">        newRoot-&gt;left-&gt;right = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;right-&gt;left = root-&gt;left;</span><br><span class="line">        newRoot-&gt;left-&gt;right-&gt;right = diff(root-&gt;right, variable);</span><br><span class="line">        newRoot-&gt;right = createNode(<span class="string">&#x27;^&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left = root-&gt;right;</span><br><span class="line">        newRoot-&gt;right-&gt;right = createNode(<span class="number">2</span>);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>: <span class="comment">// Recursive tree building using the derivation formula for multiplication</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left = createNode(<span class="string">&#x27;^&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left = root-&gt;left;</span><br><span class="line">        newRoot-&gt;left-&gt;right = root-&gt;right;</span><br><span class="line">        newRoot-&gt;right = createNode(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;left = diff(root-&gt;right, variable);</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;right = createNode(<span class="string">&#x27;L&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;right-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;right-&gt;right = root-&gt;left;</span><br><span class="line">        newRoot-&gt;right-&gt;right = createNode(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;right-&gt;left = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;right-&gt;left-&gt;left = root-&gt;right;</span><br><span class="line">        newRoot-&gt;right-&gt;right-&gt;left-&gt;right = diff(root-&gt;left, variable);</span><br><span class="line">        newRoot-&gt;right-&gt;right-&gt;right = root-&gt;left;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">-10</span>: <span class="comment">// Recursive tree building using derivation formulas for math equations</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left = diff(root-&gt;right, variable);</span><br><span class="line">        newRoot-&gt;right = root-&gt;right;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">-9</span>: <span class="comment">// Recursive tree building using derivation formulas for math equations</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right = createNode(<span class="string">&#x27;^&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left = createNode(<span class="number">-10</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;right = root-&gt;right-&gt;left;</span><br><span class="line">        newRoot-&gt;right-&gt;right = createNode(<span class="number">2</span>);</span><br><span class="line">        newRoot-&gt;left = createNode(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;right = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left-&gt;left = createNode(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left-&gt;right = createNode(<span class="number">-10</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left-&gt;left-&gt;left = diff(root-&gt;right-&gt;right, variable);</span><br><span class="line">        newRoot-&gt;left-&gt;left-&gt;left-&gt;right = root-&gt;right-&gt;right;</span><br><span class="line">        newRoot-&gt;left-&gt;left-&gt;right-&gt;right = root-&gt;right-&gt;left;</span><br><span class="line">        newRoot-&gt;left-&gt;right-&gt;right = createNode(<span class="number">-10</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;right-&gt;right-&gt;right = root-&gt;right-&gt;right;</span><br><span class="line">        newRoot-&gt;left-&gt;right-&gt;left = createNode(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;right-&gt;left-&gt;left = diff(root-&gt;right-&gt;right, variable);</span><br><span class="line">        newRoot-&gt;left-&gt;right-&gt;left-&gt;right = root-&gt;right-&gt;right;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">-8</span>: <span class="comment">// recursively builds a tree using the derivation formula of the math equation</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left = createNode(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left = createNode(<span class="number">0</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;right = createNode(<span class="number">-7</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;right-&gt;right = root-&gt;right;</span><br><span class="line">        newRoot-&gt;right = diff(root-&gt;right, variable);</span><br><span class="line">    <span class="keyword">case</span> <span class="number">-7</span>: <span class="comment">// Recursive tree building using derivation formulas for math equations</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left = createNode(<span class="number">-8</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;right = root-&gt;right;</span><br><span class="line">        newRoot-&gt;right = diff(root-&gt;right, variable);</span><br><span class="line">    <span class="keyword">case</span> <span class="number">-6</span>: <span class="comment">// Recursive tree building using derivation formulas for math equations</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left = diff(root-&gt;right, variable);</span><br><span class="line">        newRoot-&gt;right = createNode(<span class="string">&#x27;^&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;right = createNode(<span class="number">2</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left = createNode(<span class="number">-8</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;right = root-&gt;right;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">-5</span>: <span class="comment">// Recursive tree building using derivation formulas for math equations</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left = createNode(<span class="string">&#x27;^&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;left = root-&gt;right-&gt;left;</span><br><span class="line">        newRoot-&gt;left-&gt;right = root-&gt;right-&gt;right;</span><br><span class="line">        newRoot-&gt;right = createNode(<span class="string">&#x27;+&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;left = diff(root-&gt;right-&gt;right, variable);</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;right = createNode(<span class="string">&#x27;L&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;right-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        newRoot-&gt;right-&gt;left-&gt;right-&gt;right = root-&gt;right-&gt;left;</span><br><span class="line">        newRoot-&gt;right-&gt;right = createNode(<span class="string">&#x27;/&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;right-&gt;left = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;right-&gt;right-&gt;left-&gt;left = root-&gt;right-&gt;right;</span><br><span class="line">        newRoot-&gt;right-&gt;right-&gt;left-&gt;right = diff(root-&gt;right-&gt;left, variable);</span><br><span class="line">        newRoot-&gt;right-&gt;right-&gt;right = root-&gt;right-&gt;left;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">-4</span>: <span class="comment">// Recursive tree building using derivation formulas for math equations</span></span><br><span class="line">        newRoot = createNode(<span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">        newRoot-&gt;left = createNode(<span class="number">-4</span>);</span><br><span class="line">        newRoot-&gt;left-&gt;right = root-&gt;right;</span><br><span class="line">        newRoot-&gt;right = diff(root-&gt;right, variable);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">if</span> (root-&gt;data != <span class="number">0</span>) <span class="comment">// Constant derivative is 0</span></span><br><span class="line">        &#123;</span><br><span class="line">            newRoot = createNode(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="comment">// Alphabetic derivatives are 1 only for the corresponding variable, and 0 for all other parameters.</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">strcmp</span>(root-&gt;Var, variable))</span><br><span class="line">            &#123;</span><br><span class="line">                newRoot = createNode(<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                newRoot = createNode(<span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> newRoot; <span class="comment">// Return to new node</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">simplify</span><span class="params">(BTnode *root)</span> <span class="comment">// Simplifying function</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">NULL</span>) <span class="comment">// Recursive function boundaries</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    simplify(root-&gt;left);  <span class="comment">// Recursively simplify the left subtree</span></span><br><span class="line">    simplify(root-&gt;right); <span class="comment">// Recursively simplify the right subtree</span></span><br><span class="line">    <span class="keyword">switch</span> (root-&gt;data)    <span class="comment">// Discussion based on notation, specific simplification</span></span><br><span class="line">    &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;+&#x27;</span>: <span class="comment">// If an item is 0, delete it.</span></span><br><span class="line">        <span class="keyword">if</span> ((root-&gt;left-&gt;Var[<span class="number">0</span>] == <span class="number">0</span>) &amp;&amp; (root-&gt;left-&gt;data == <span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            *root = *root-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((root-&gt;right-&gt;Var[<span class="number">0</span>] == <span class="number">0</span>) &amp;&amp; (root-&gt;right-&gt;data == <span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            *root = *root-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;-&#x27;</span>: <span class="comment">// Delete if previous item is zero</span></span><br><span class="line">        <span class="keyword">if</span> ((root-&gt;right-&gt;Var[<span class="number">0</span>] == <span class="number">0</span>) &amp;&amp; (root-&gt;right-&gt;data == <span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            *root = *root-&gt;left;</span><br><span class="line">        &#125; <span class="comment">// Delete the minus sign at the same time if the last item is zero.</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> ((root-&gt;left-&gt;Var[<span class="number">0</span>] == <span class="number">0</span>) &amp;&amp; (root-&gt;left-&gt;data == <span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            root-&gt;left = <span class="literal">NULL</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;*&#x27;</span>: <span class="comment">// Returns 0 if one of the items is 0</span></span><br><span class="line">        <span class="keyword">if</span> (((root-&gt;left-&gt;Var[<span class="number">0</span>] == <span class="number">0</span>) &amp;&amp; (root-&gt;left-&gt;data == <span class="number">0</span>)) || (root-&gt;right-&gt;Var[<span class="number">0</span>] == <span class="number">0</span>) &amp;&amp; (root-&gt;right-&gt;data == <span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            *root = *createNode(<span class="number">0</span>);</span><br><span class="line">        &#125; <span class="comment">// If one item is 1, return the other</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;left-&gt;data == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            *root = *root-&gt;right;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;right-&gt;data == <span class="number">1</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            *root = *root-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;/&#x27;</span>: <span class="comment">// If the numerator is 0, return 0</span></span><br><span class="line">        <span class="keyword">if</span> ((root-&gt;left-&gt;Var[<span class="number">0</span>] == <span class="number">0</span>) &amp;&amp; (root-&gt;left-&gt;data == <span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            *root = *createNode(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (root-&gt;right-&gt;data == <span class="number">1</span>)</span><br><span class="line">        &#123; <span class="comment">// Return the numerator if the denominator is 1</span></span><br><span class="line">            *root = *root-&gt;left;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&#x27;^&#x27;</span>: <span class="comment">// If the index is 0, return 1</span></span><br><span class="line">        <span class="keyword">if</span> ((root-&gt;right-&gt;Var[<span class="number">0</span>] == <span class="number">0</span>) &amp;&amp; (root-&gt;right-&gt;data == <span class="number">0</span>))</span><br><span class="line">        &#123;</span><br><span class="line">            *root = *createNode(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Declaration"><a href="#Declaration" class="headerlink" title="Declaration"></a>Declaration</h3><p>I hereby declare that all the work done in this project titled “Autograd for Algebraic Expressions” is of my independent effort</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">逝川</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Report2/">http://example.com/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Report2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="http://example.com" target="_blank">逝川の小屋</a>！</span></div></div><div class="tag_share"><div class="post-share"><div class="social-share" data-image="/image/head.jpeg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Report3/" title="Project3"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">Project3</div></div><div class="info-2"><div class="info-item-1">Hard Transportation Hub王子轩Date: 2024-5-6  Chapter 1: IntroductionBackgroundGiven the map of a country, there could be more than one shortest path between any pair of cities. A transportation hub is a city that is on no less than k shortest paths (the source and the destination NOT included).  AimFind  for a given pair of cities, the transportation hubs on the way. What we need to doThe adjacency table is used to construct the graph as a data structure, after reading the data, then Dijkstra’s...</div></div></div></a><a class="pagination-related" href="/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Report1/" title="Project1"><div class="cover" style="background: var(--default-bg-color)"></div><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">Project1</div></div><div class="info-2"><div class="info-item-1">Hard Performance Measurement (A+B)王子轩Date: 2024-3-13  Chapter 1: IntroductionGiven S as a collection of N positive integers that are no more than V. For any given number c, you are supposed to find two integers a and b from S, so that a+b&#x3D;c. What needs to be done: Use Srand to randomly generate a non-repeating S array, then find two numbers from it and output them when they add up to equal C. You can consider using bucket sorting. Why do it: Srand plus an array of record duplicates can...</div></div></div></a></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="/image/head.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">逝川</div><div class="author-info-description">村长,开饭了吗 o.O</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">7</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">0</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Hard-Autograd-for-Algebraic-Expressions"><span class="toc-number">1.</span> <span class="toc-text">Hard Autograd for Algebraic Expressions</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#author-%E7%8E%8B%E5%AD%90%E8%BD%A9"><span class="toc-number">2.</span> <span class="toc-text">author:王子轩</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Date-2024-4-6"><span class="toc-number">3.</span> <span class="toc-text">Date: 2024-4-6</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Chapter-1-Introduction"><span class="toc-number">3.1.</span> <span class="toc-text">Chapter 1: Introduction</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Background"><span class="toc-number">3.1.1.</span> <span class="toc-text">Background</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Aim"><span class="toc-number">3.1.2.</span> <span class="toc-text">Aim</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#What-we-need-to-do"><span class="toc-number">3.1.3.</span> <span class="toc-text">What we need to do</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Why-do-this"><span class="toc-number">3.1.4.</span> <span class="toc-text">Why do this</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Chapter-2-Algorithm-Specification"><span class="toc-number">3.2.</span> <span class="toc-text">Chapter 2: Algorithm Specification</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Main-Function"><span class="toc-number">3.2.1.</span> <span class="toc-text">Main Function</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sketch"><span class="toc-number">3.2.1.1.</span> <span class="toc-text">sketch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pseudocode"><span class="toc-number">3.2.1.2.</span> <span class="toc-text">Pseudocode</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Build-%EF%BC%9AUsed-to-build-expression-trees"><span class="toc-number">3.2.2.</span> <span class="toc-text">Build ：Used to build expression trees</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sketch-1"><span class="toc-number">3.2.2.1.</span> <span class="toc-text">sketch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pseudocode-1"><span class="toc-number">3.2.2.2.</span> <span class="toc-text">Pseudocode</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Diff-Used-to-differentiate-functions"><span class="toc-number">3.2.3.</span> <span class="toc-text">Diff :Used to differentiate functions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sketch-2"><span class="toc-number">3.2.3.1.</span> <span class="toc-text">sketch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pseudocode-2"><span class="toc-number">3.2.3.2.</span> <span class="toc-text">Pseudocode</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Simplify%EF%BC%9AUsed-to-simplify-expressions"><span class="toc-number">3.2.4.</span> <span class="toc-text">Simplify：Used to simplify expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sketch-3"><span class="toc-number">3.2.4.1.</span> <span class="toc-text">sketch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pseudocode-3"><span class="toc-number">3.2.4.2.</span> <span class="toc-text">Pseudocode</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#PrintInfix-Used-to-output-mid-range-expressions"><span class="toc-number">3.2.5.</span> <span class="toc-text">PrintInfix:Used to output mid-range expressions</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#sketch-4"><span class="toc-number">3.2.5.1.</span> <span class="toc-text">sketch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Pseudocode-4"><span class="toc-number">3.2.5.2.</span> <span class="toc-text">Pseudocode</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Bonus"><span class="toc-number">3.2.6.</span> <span class="toc-text">Bonus</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Not-using-complex-containers-provided-in-STL"><span class="toc-number">3.2.6.1.</span> <span class="toc-text">Not using complex containers provided in STL</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Support-for-expressions-containing-mathematical-functions"><span class="toc-number">3.2.6.2.</span> <span class="toc-text">Support for expressions containing mathematical functions</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Simplify-an-algebraic-expression-to-reduce-the-length-of-the-result-by-applying-at-least-two-rules"><span class="toc-number">3.2.6.3.</span> <span class="toc-text">Simplify an algebraic expression to reduce the length of the result by applying at least two rules.</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Rules-used-in-simplification"><span class="toc-number">3.2.6.3.1.</span> <span class="toc-text">Rules used in simplification:</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Chapter-3-Testing-Results"><span class="toc-number">3.3.</span> <span class="toc-text">Chapter 3: Testing Results</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Chapter-4-Analysis-and-Comments"><span class="toc-number">3.4.</span> <span class="toc-text">Chapter 4: Analysis and Comments</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Time-Complexity-Analysis"><span class="toc-number">3.4.1.</span> <span class="toc-text">Time Complexity Analysis:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Space-complexity-analysis"><span class="toc-number">3.4.2.</span> <span class="toc-text">Space complexity analysis:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Possible-further-improvements"><span class="toc-number">3.4.3.</span> <span class="toc-text">Possible further improvements:</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Appendix-Source-Code-in-C"><span class="toc-number">3.4.4.</span> <span class="toc-text">Appendix: Source Code (in C)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Declaration"><span class="toc-number">3.4.5.</span> <span class="toc-text">Declaration</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/09/%E4%B8%89%E4%BD%8D%E4%B8%80%E4%BD%93/" title="三位一体">三位一体</a><time datetime="2024-12-09T14:46:48.886Z" title="发表于 2024-12-09 22:46:48">2024-12-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Report3/" title="Project3">Project3</a><time datetime="2024-12-09T14:45:39.897Z" title="发表于 2024-12-09 22:45:39">2024-12-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Report2/" title="Project2">Project2</a><time datetime="2024-12-09T14:45:39.890Z" title="发表于 2024-12-09 22:45:39">2024-12-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Report1/" title="Project1">Project1</a><time datetime="2024-12-09T14:45:39.882Z" title="发表于 2024-12-09 22:45:39">2024-12-09</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/12/09/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%9F%BA%E7%A1%80/Bonus2/" title="Bonus2">Bonus2</a><time datetime="2024-12-09T14:45:39.881Z" title="发表于 2024-12-09 22:45:39">2024-12-09</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2019 - 2024 By 逝川</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><div class="js-pjax"></div><script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/gh/xiabo2/CDN@latest/fishes.js"></script><script src="/js/sakura.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/fireworks.min.js"></script><script defer="defer" id="fluttering_ribbon" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-fluttering-ribbon.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>